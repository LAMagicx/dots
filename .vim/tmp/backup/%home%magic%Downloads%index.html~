<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">    <!-- <link href="style/style.css" rel="stylesheet" type="text/css"> -->
    <style>
        body { background-color: #101d31;}
        .btn {background-color:#1E365C; border-color:#1E365C;}
        .btn-check:checked+.btn {background-color:#08FA8E; border-color:#08FA8E; color: #1E365C}
    </style>
</head>


<body>.
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

    <div align="center">
        <input type="radio" class="btn-check axis xAxis" id="option1" name="options" autocomplete="off" value="Amour" checked>
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option1">Amour</label>

        <input type="radio" class="btn-check axis xAxis" id="option2" name="options" autocomplete="off" value="Argent">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option2">Argent</label>

        <input type="radio" class="btn-check axis xAxis" id="option3" name="options" autocomplete="off" value="Drogue">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option3">Drogue</label>

        <input type="radio" class="btn-check axis xAxis" id="option4" name="options" autocomplete="off" value="Société">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option4">Société</label>

        <input type="radio" class="btn-check axis xAxis" id="option5" name="options" autocomplete="off" value="Vulgarité">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option5">Vulgarité</label>

        <input type="radio" class="btn-check axis xAxis" id="option6" name="options" autocomplete="off" value="Spiritualité">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option6">Spiritualité</label>

        <input type="radio" class="btn-check axis xAxis" id="option7" name="options" autocomplete="off" value="Écriture">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option7">Écriture</label>

        <input type="radio" class="btn-check axis xAxis" id="option8" name="options" autocomplete="off" value="Fête">
        <label class="btn btn-secondary mx-1 m-2 mt-5 fw-bold" for="option8">Fête</label>

        <br>

        <input type="radio" class="btn-check axis yAxis" id="option9" name="options2" autocomplete="off" value="Amour" checked>
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option9">Amour</label>

        <input type="radio" class="btn-check axis yAxis" id="option10" name="options2" autocomplete="off" value="Argent">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option10">Argent</label>

        <input type="radio" class="btn-check axis yAxis" id="option11" name="options2" autocomplete="off" value="Drogue">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option11">Drogue</label>

        <input type="radio" class="btn-check axis yAxis" id="option12" name="options2" autocomplete="off" value="Société">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option12">Société</label>

        <input type="radio" class="btn-check axis yAxis" id="option13" name="options2" autocomplete="off" value="Vulgarité">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option13">Vulgarité</label>

        <input type="radio" class="btn-check axis yAxis" id="option14" name="options2" autocomplete="off" value="Spiritualité">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option14">Spiritualité</label>

        <input type="radio" class="btn-check axis yAxis" id="option15" name="options2" autocomplete="off" value="Écriture">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option15">Écriture</label>

        <input type="radio" class="btn-check axis yAxis" id="option16" name="options2" autocomplete="off" value="Fête">
        <label class="btn btn-secondary mx-1 m-2 mt-4 mb-5 fw-bold" for="option16">Fête</label>
   
    </div>


    <!-- <div class="container">
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B axis xAxis" value="Amour">Amour</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Argent">Argent</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Drogue">Drogue</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Société">Société</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Vulgarité">Vulgarité</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Spiritualité">Spiritualité</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Écriture">Écriture</button>
        <button type="button" name="xAxis" class="btn btn-lg color-99CC5B" value="Fête">Fête</button>
    </div>

    <p class="bg-primary p-1"></p>

    <div class="container">
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Amour">Amour</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Argent">Argent</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Drogue">Drogue</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Société">Société</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Vulgarité">Vulgarité</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Spiritualité">Spiritualité</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Écriture">Écriture</button>
        <button type="button" name="yAxis" class="btn btn-lg color-99CC5B" value="Fête">Fête</button>
    </div> -->


<!-- <div>
    <input type="radio" name="xAxis" class="axis xAxis" value="Amour" checked>Amour</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Argent">Argent</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Drogue">Drogue</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Société">Société</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Vulgarité">Vulgarité</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Spiritualité">Spiritualité</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Écriture">Écriture</input>
    <input type="radio" name="xAxis" class="axis xAxis" value="Fête">Fête</input>
</div>

<div>
    <input type="radio" name="yAxis" class="axis yAxis" value="Amour" checked>Amour</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Argent">Argent</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Drogue">Drogue</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Société">Société</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Vulgarité">Vulgarité</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Spiritualité">Spiritualité</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Écriture">Écriture</input>
    <input type="radio" name="yAxis" class="axis yAxis" value="Fête">Fête</input>
</div> -->

    <div style="text-align:center;width:80vw;margin-left:auto;margin-right:auto;"> 
        <canvas id="myChart" width="300" height="100" style="background-color: rgb(0, 0, 0);"></canvas>
    </div> 
    
    

    <!-- <script src="static/js/index.js"></script>  -->

    <script>    
        
        // 

        //
        async function loadJSON() { 
            const response = await fetch("data/data.json"); 
            const jsonData = await response.json();
            return jsonData
        }

        function buildConfig(xTarget, yTarget) { 

            var xColumn = "distance_" + xTarget 
            var yColumn = "distance_" + yTarget

            var data = []; 
            var labels = []; 

            function setData(jsonData, xColumn, yColumn) { 
                for (let i = 0; i < jsonData.length; i++) {  
                    labels.push(jsonData[i]["artist_name"]); 
                    data.push({  
                        x: 1 - jsonData[i][xColumn], 
                        y: 1 - jsonData[i][yColumn],
                    })
                }
            }

            loadJSON() 
                .then(jsonData => { 
                    setData(jsonData, xColumn, yColumn);
                })

            var scatterData = {
                datasets: [{
                    label: 'Scatter Dataset',
                    labels: labels,
                    data: data,
                    borderColor: '#08FA8E',
                    backgroundColor: '#08FA8E',
                    fill: false,
                    borderWidth: 5,
                }],
            };

            var options = {
                scales: {
                    x: {
						title: {
							display: true,
							text: xTarget,
							min: 0,
							max: 1
						},
						ticks: {
							display: false
						} 
					},
                    y: {
					title: {
						display: true,
						text: yTarget,
						min: 0,
						max: 1
						}
					}
                },

                plugins: {

                    tooltip: {
                        callbacks: {
                            label: function (ctx) {
                                let label = labels[ctx.dataIndex];
                                return label;
                            }
                        }
                    }
                }
            }

            var config = {
                type: 'scatter',
                data: scatterData,
                options: options
            };

            return config
        }

        var ctx = document.getElementById('myChart').getContext('2d');

        var xTarget = document.querySelector('.xAxis:checked').value; 
        console.log(xTarget);

                var yTarget = document.querySelector('.yAxis:checked').value;
                config = buildConfig(xTarget, yTarget)
        
        var myChart = new Chart(ctx, config);

        document.querySelectorAll('.axis').forEach(item => { 
            item.addEventListener('change', function () {

                myChart.destroy();

                var xTarget = document.querySelector('.xAxis:checked').value;
                var yTarget = document.querySelector('.yAxis:checked').value;

                console.log(xTarget, yTarget)

                config = buildConfig(xTarget, yTarget)

                myChart = new Chart(ctx, config);

            })
        });





    </script>
</body> 


</html>
